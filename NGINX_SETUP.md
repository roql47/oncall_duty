# NGINX ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„¤ì •

## ðŸ“‹ ê°œìš”
ì´ ì„¤ì •ì€ nginxë¥¼ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¡œ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  ì„œë¹„ìŠ¤ë¥¼ ë‹¨ì¼ í¬íŠ¸(80)ë¡œ í†µí•©í•©ë‹ˆë‹¤.

## ðŸŒ ì„œë¹„ìŠ¤ êµ¬ì„±
- **React í”„ë¡ íŠ¸ì—”ë“œ**: `http://localhost/` (í¬íŠ¸ 3000 â†’ 80)
- **Django API**: `http://localhost/api/` (í¬íŠ¸ 8000 â†’ 80)
- **FastAPI ì±—ë´‡**: `http://localhost/chatbot/` (í¬íŠ¸ 8080 â†’ 80)
- **Django ê´€ë¦¬ìž**: `http://localhost/api/admin/`

## ðŸ“ ìƒì„±ëœ íŒŒì¼ë“¤
- `nginx.conf`: nginx ì„¤ì • íŒŒì¼
- `start_nginx.bat`: nginx ì‹œìž‘ ìŠ¤í¬ë¦½íŠ¸
- `stop_nginx.bat`: nginx ì¤‘ì§€ ìŠ¤í¬ë¦½íŠ¸

## ðŸš€ ì‚¬ìš© ë°©ë²•

### 1. ì „ì²´ ì‹œìŠ¤í…œ ì‹œìž‘
```bash
# 1ë‹¨ê³„: ëª¨ë“  ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ì‹œìž‘
start_all.bat

# 2ë‹¨ê³„: nginx í”„ë¡ì‹œ ì„œë²„ ì‹œìž‘
start_nginx.bat
```

### 2. nginxë§Œ ì‹œìž‘/ì¤‘ì§€
```bash
# nginx ì‹œìž‘
start_nginx.bat

# nginx ì¤‘ì§€
stop_nginx.bat
```

### 3. ìˆ˜ë™ nginx ëª…ë ¹ì–´
```bash
# ì„¤ì • í…ŒìŠ¤íŠ¸
nginx -t

# nginx ì‹œìž‘
nginx -c %cd%\nginx.conf

# nginx ì¤‘ì§€
nginx -s stop

# ì„¤ì • ë‹¤ì‹œ ë¡œë“œ
nginx -s reload
```

## ðŸ“ ì£¼ì˜ì‚¬í•­

1. **ì‹¤í–‰ ìˆœì„œ**: ë°˜ë“œì‹œ `start_all.bat`ì„ ë¨¼ì € ì‹¤í–‰í•œ í›„ `start_nginx.bat`ì„ ì‹¤í–‰í•˜ì„¸ìš”.

2. **í¬íŠ¸ ì¶©ëŒ**: í¬íŠ¸ 80ì´ ì´ë¯¸ ì‚¬ìš© ì¤‘ì´ë©´ nginx ì‹œìž‘ì´ ì‹¤íŒ¨í•©ë‹ˆë‹¤.
   - IISë‚˜ ë‹¤ë¥¸ ì›¹ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì´ì§€ ì•Šì€ì§€ í™•ì¸í•˜ì„¸ìš”.

3. **ë°±ì—”ë“œ ì„œë¹„ìŠ¤**: nginxëŠ” ë°±ì—”ë“œ ì„œë¹„ìŠ¤ë“¤ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ê³  ìžˆì„ ë•Œë§Œ ì œëŒ€ë¡œ ë™ìž‘í•©ë‹ˆë‹¤.

## ðŸ”§ ì„¤ì • ìˆ˜ì •

### í¬íŠ¸ ë³€ê²½
`nginx.conf` íŒŒì¼ì—ì„œ ì•„ëž˜ ë¶€ë¶„ì„ ìˆ˜ì •í•˜ì„¸ìš”:
```nginx
server {
    listen 80;  # ì´ ë¶€ë¶„ì„ ì›í•˜ëŠ” í¬íŠ¸ë¡œ ë³€ê²½
    server_name localhost;
    ...
}
```

### ë°±ì—”ë“œ ì„œë¹„ìŠ¤ í¬íŠ¸ ë³€ê²½
`nginx.conf` íŒŒì¼ì—ì„œ upstream ë¶€ë¶„ì„ ìˆ˜ì •í•˜ì„¸ìš”:
```nginx
upstream django_backend {
    server 127.0.0.1:8000;  # Django í¬íŠ¸
}

upstream fastapi_backend {
    server 127.0.0.1:8080;  # FastAPI í¬íŠ¸
}

upstream react_frontend {
    server 127.0.0.1:3000;  # React í¬íŠ¸
}
```

## ðŸž ë¬¸ì œ í•´ê²°

### nginx ì‹œìž‘ ì‹¤íŒ¨
1. nginxê°€ ì„¤ì¹˜ë˜ì–´ ìžˆëŠ”ì§€ í™•ì¸
2. í¬íŠ¸ 80ì´ ì‚¬ìš© ì¤‘ì¸ì§€ í™•ì¸: `netstat -an | find "80"`
3. ë°±ì—”ë“œ ì„œë¹„ìŠ¤ë“¤ì´ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸

### 502 Bad Gateway ì˜¤ë¥˜
- ë°±ì—”ë“œ ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ë˜ì§€ ì•Šì€ ê²½ìš° ë°œìƒ
- `start_all.bat`ì„ ì‹¤í–‰í•˜ì—¬ ëª¨ë“  ì„œë¹„ìŠ¤ë¥¼ ì‹œìž‘í•˜ì„¸ìš”

### 403 Forbidden ì˜¤ë¥˜
- íŒŒì¼ ê¶Œí•œ ë¬¸ì œì´ê±°ë‚˜ ê²½ë¡œ ì„¤ì • ì˜¤ë¥˜
- nginx ì„¤ì • íŒŒì¼ì˜ ê²½ë¡œë¥¼ í™•ì¸í•˜ì„¸ìš”

## ðŸ“Š ë¡œê·¸ í™•ì¸
nginx ë¡œê·¸ëŠ” ë‹¤ìŒ ìœ„ì¹˜ì—ì„œ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤:
- ì ‘ê·¼ ë¡œê·¸: `logs/access.log`
- ì˜¤ë¥˜ ë¡œê·¸: `logs/error.log`

## ðŸ”„ ìžë™í™” ë°©ë²•
ëª¨ë“  ì„œë¹„ìŠ¤ë¥¼ í•œ ë²ˆì— ì‹œìž‘í•˜ëŠ” í†µí•© ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë§Œë“¤ê³  ì‹¶ë‹¤ë©´:

```batch
# start_all_with_nginx.bat
@echo off
call start_all.bat
timeout /t 10 /nobreak >nul
call start_nginx.bat
``` 